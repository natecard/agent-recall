2026-02-12T16:30:58Z | Iteration 1 | AR-001 | Tracer-bullet shipped: Codex source discovery/parsing (CODEX_HOME + ~/.codex, json/jsonl, tool calls) with registry/docs/tests; validation green.
2026-02-12T16:41:27Z | Iteration 1 | AR-001 | Parser hardening: support Codex custom_tool_call/custom_tool_call_output with call_id matching plus regression tests; validation green.
2026-02-12T17:17:09Z | Iteration 1 | AR-002 | Implemented checkpoint persistence (SessionCheckpoint model, SQLite storage methods, tests); validation green.
2026-02-12T17:33:00Z | Iteration 2 | AR-002 | Integrated checkpoints into sync flow: incremental message filtering, content hash change detection, checkpoint updates after processing, reset options (reset_checkpoints/reset_full); validation green.
2026-02-12T20:15:00Z | Iteration 3 | AR-005 | Created fixture corpus (11 files: JSON/JSONL variants, malformed cases, edge cases) and added 21 comprehensive tests; parser handles edge cases gracefully; validation green.
2026-02-12T20:30:00Z | Iteration 4 | AR-008 | Production readiness: finalized package metadata (author, URLs, classifiers), created CHANGELOG.md with versioning policy, added compatibility matrices to README.md, created GitHub Actions CI workflow for Python 3.11/3.12/3.13 on Ubuntu/macOS; validation green.
2026-02-12T21:30:00Z | Iteration 1 | AR-006 | Implemented background sync mode with file-based locking (BackgroundSyncManager), status persistence in SQLite, new `sync-background` CLI command, updated `status` command to show background sync state; validation green.
2026-02-12T20:43:49Z | Iteration 1 | AR-006 | Added `refresh-context` command to write `.agent/context/context.md` + `.agent/context/context.json` using active-session task fallback; added CLI coverage; validation green.
2026-02-12T20:51:11Z | Iteration 2 | AR-006 | Added bounded retries + clear diagnostics for sync-background + refresh-context, fixed lock acquisition in run_sync, added retry-path tests; validation green.
2026-02-12T20:59:22Z | Iteration 1 | AR-003 | Completed tracer-bullet step 1: optional deterministic embedding generation during compaction with SQLite embedding persistence + retrieval round-trip tests; validation green.
2026-02-12T21:04:50Z | Iteration 2 | AR-003 | Implemented hybrid retrieval rank fusion (FTS + vector similarity) with deterministic tie-breaking and regression tests; validation green.
2026-02-12T21:10:09Z | Iteration 1 | AR-003 | Added optional retrieval reranking stage (default off) with deterministic scoring/tie-breaks and focused regression tests; validation green.
2026-02-12T21:17:57Z | Iteration 2 | AR-003 | Exposed retrieval backend/tuning via config + CLI: context/start/refresh-context/retrieve now build Retriever from retrieval config (backend, top_k, fusion_k, rerank, rerank_candidate_k) with CLI overrides for context/retrieve; added regression tests; validation green.
2026-02-12T21:25:25Z | Iteration 1 | AR-004 | Defined non-style indexing policy (decision/exploration enabled, narrative disabled), wired compaction chunk indexing to that policy, and added regression coverage; validation green.
2026-02-12T21:30:45Z | Iteration 2 | AR-004 | Added configurable non-style indexing confidence thresholds (decision/exploration/narrative), filtered low-confidence noise during chunk indexing, updated config defaults/init template, and added regression coverage; validation green.
2026-02-13T00:27:57Z | Iteration 1 | AR-009 | Completed tracer-bullet step 1: formalized shared/local storage contract (Storage ABC, shared config schema, backend factory branch, remote stub boundary) with contract tests; fixed init storage cache reset to avoid stale DB schema across repos; validation green.
2026-02-13T00:34:08Z | Iteration 2 | AR-009 | Added shared single-tenant backend path via `file://`/`sqlite://` URLs by implementing `RemoteStorage` on shared SQLite; added backend tests for shared-mode factory wiring, cross-instance state visibility, and explicit HTTP-mode not-implemented guard; validation green.
2026-02-13T00:39:15Z | Iteration 3 | AR-009 | Completed tracer-bullet step 3 slice: added filesystem shared tier-file synchronization (shared tier mirror + shared-read preference) with CLI wiring for shared backend configs and regression tests; HTTP transport remains pending; validation green.
2026-02-13T01:45:00Z | Iteration 4 | AR-009 | Added end-to-end tests for shared filesystem backend, verifying manual workflow (log/compact/retrieve) and tier synchronization across simulated repositories; validation green.
2026-02-13T01:46:58Z | Iteration 5 | AR-009 | Added retry/timeout/fallback behavior for shared filesystem backend: retries on transient errors (locked/network) and falls back to local storage if shared is unavailable; validation green.
2026-02-13T02:30:00Z | Iteration 6 | AR-009 | Implemented full HTTP client for shared backend in `RemoteStorage` with comprehensive method mapping to REST endpoints and `respx`-backed tests; validation green.
2026-02-13T02:50:00Z | Iteration 1 | AR-010 | Implemented tenant isolation and namespace safety: added validation utilities, strict namespace validation for shared storage, cross-tenant leakage tests with negative assertions; validation green.
2026-02-13T02:46:21Z | Iteration 1 | AR-016 | Implemented standardized tier-file write policy and in-loop hygiene: defined canonical schemas for GUARDRAILS/STYLE/RECENT, implemented TierWriter with duplicate guards and bounded append behavior, added CLI commands for structured writing (write-guardrails, write-style, write-recent), added lint-tiers and tier-stats commands, added comprehensive tests (40 tests); validation green.
2026-02-13T03:00:00Z | Iteration 1 | AR-017 | Implemented post-loop tier compaction hook: created TierCompactionHook module with deduplication, size budget enforcement, and summarization; added tier_compaction config section with auto_run, max_entries_per_tier, strict_deduplication settings; added compact-tiers CLI command with before/after summary and --dry-run/--strict/--max-entries options; added TUI support via /compact-tiers command; added 21 comprehensive tests; validation green.
2026-02-13T03:30:00Z | Iteration 1 | AR-011 | Added shared HTTP auth enforcement toggle (require_api_key) with header coverage, config defaults, and regression test; validation pending.
2026-02-13T04:05:00Z | Iteration 2 | AR-011 | Added client-side RBAC enforcement for shared HTTP storage (role + promote gating), updated config defaults, and added permission tests; validation pending.
2026-02-13T05:12:08Z | Iteration 3 | AR-011 | Added shared HTTP audit event emission for mutation calls with config toggles, audit models, and tests; validation pending.
2026-02-13T06:00:00Z | Iteration 4 | AR-007 | Documented shared storage migration/opt-in path and config example in README; reprioritized remaining PRD items.
2026-02-13T04:18:42Z | Iteration 5 | AR-015 | Added Ralph loop CLI/TUI controls (ralph status/enable/disable), default config, and status display; tests + validation green.
2026-02-13T07:10:00Z | Iteration 1 | AR-018 | Added command contract inventory and parity reporting, refactored TUI palette to share contract-driven suggestions, and added tests; validation green.
2026-02-13T08:00:00Z | Iteration 2 | AR-018 | Extended command parity report to include extra CLI commands for drift visibility; validation pending.
2026-02-13T09:12:00Z | Iteration 3 | AR-018 | Closed CLI/TUI parity gaps by aligning command contract entries, added parity drift test, updated priorities; validation pending.
2026-02-13T09:45:00Z | Iteration 4 | AR-015 | Documented Ralph CLI command in CLI reference and added compact mode config CLI coverage; validation pending.
2026-02-13T23:30:00Z | Iteration 4 | AR-603 | Preserved Ralph blocks on compaction rewrite with integration tests covering GUARDRAILS/STYLE/RECENT; validation pending.
2026-02-13T05:18:38Z | Iteration 5 | AR-012 | Added curation status field (pending/approved/rejected), defaulted existing logs to approved, marked extracted learnings as pending, and filtered storage label queries to approved entries; validation green.
2026-02-13T10:58:12Z | Iteration 6 | AR-012 | Added curation CLI commands (list/approve/reject) and storage support for listing/updating curation status with tests; validation green.
2026-02-13T12:00:00Z | Iteration 1 | AR-012 | Updated compaction to filter by curation status (default approved, configurable) and added compaction tests; adjusted remote HTTP status fixture for BackgroundSyncStatus.
2026-02-13T12:30:00Z | Iteration 2 | AR-012 | Added curation queue lifecycle and promotion gating tests; approved-only entries index after compaction.
2026-02-13T18:15:00Z | Iteration 3 | AR-013 | Added adapter payload scaffold for refresh-context: adapter payload schema, CLI flag, config defaults, and tests for Codex payload output.
2026-02-13T19:10:00Z | Iteration 4 | AR-013 | Added adapter token budgets (global + per-adapter) to refresh-context payloads with tests.
2026-02-13T20:40:00Z | Iteration 5 | AR-013 | Added config adapters CLI/status output, updated init config and CLI docs, and added tests; validation green.
2026-02-13T20:55:00Z | Iteration 6 | AR-013 | Added adapter opt-out and idempotency CLI tests for refresh-context adapter payloads; validation pending.
2026-02-13T21:20:00Z | Iteration 1 | AR-201 | Added PRD archive data model/persistence module with JSON serialization, archive management, and safe load behavior; validation pending.
2026-02-13T22:15:00Z | Iteration 2 | AR-202 | Added PRD archive semantic indexing + search (embeddings + cosine similarity) with knowledge-to-PRD matching; validation pending.
2026-02-13T22:45:00Z | Iteration 3 | AR-203 | Added ContextRefreshHook with task formatting, retrieval-inclusive assembly, and adapter payload refresh output summary; validation pending.
2026-02-13T23:20:00Z | Iteration 4 | AR-205 | Added Ralph refresh-context CLI action wired to ContextRefreshHook with task/item/iteration options and success output; validation pending.
2026-02-13T23:55:00Z | Iteration 5 | AR-204 | Added Ralph archive-completed and search-archive actions in CLI with default PRD path detection and archive search output; updated command contract and priorities.
2026-02-13T21:45:00Z | Iteration 6 | AR-206 | Added bash loop hooks to refresh context after memory updates and archive completed PRD items on clean exit; capture outputs in runtime logs and guard uv availability.
2026-02-13T23:59:00Z | Iteration 1 | AR-501 | Added tier format detection layer with EntryFormat enum, regex patterns, detection helpers, and backward-compatible aliases; validation pending.
2026-02-13T23:59:00Z | Iteration 2 | AR-502 | Added tier format structured parsing (ParsedEntry, TierContent, parse helpers, Ralph block grouping) in tier_format; validation pending.
2026-02-13T02:05:00Z | Iteration 1 | AR-602 | Skip Ralph entry blocks during tier preamble/line split to keep compaction focused on bullet entries.
2026-02-13T10:05:00Z | Iteration 2 | AR-601 | Confirmed compact.py already uses canonical tier_format imports; no code changes needed; validation green.
2026-02-13T22:25:00Z | Iteration 3 | AR-602 | Verified Ralph-block skipping logic in compact.py already matches acceptance; no code changes needed; validation pending.
2026-02-13T18:31:00Z | Iteration 5 | AR-301 | Added Ralph CLI enable/disable state file management (ralph_state.json) with PRD init support, CLI alias for --prd, and CLI tests; validation pending.
2026-02-13T12:45:00Z | Iteration 6 | AR-301 | Split Ralph CLI into dedicated Typer subapp with shared helpers; wired subcommands, preserved main CLI wrappers, reprioritized remaining items; validation green.
2026-02-13T00:20:00Z | Iteration 7 | AR-303 | Added Ralph run CLI bash delegation (agent-cmd mode) with script/prd resolution, exit handling, and command contract update; validation pending.
2026-02-13T23:59:59Z | Iteration 8 | AR-302 | Implemented dual-mode Ralph status (PRD JSON vs state) with Rich panels/tables and auto-detection; validation green.
2026-02-13T23:59:59Z | Iteration 9 | AR-303 | Added Python-mode Ralph run with progress callbacks, state updates, and summary panel; updated command contract; validation green.
2026-02-14T05:10:00Z | Iteration 1 | WM-001 | Added iteration record store with report model/store, serialization, and tests for lifecycle, corrupt loads, and ordering; validation green.
2026-02-14T06:10:00Z | Iteration 1 | WM-002 | Implemented heuristic extraction helpers (outcome, failure reason, validation hint, files changed) and tests with deterministic subprocess stubs.
2026-02-14T09:00:00Z | Iteration 1 | WM-003 | Added heuristic forecast generator (RECENT.md rebuild) with tests for empty/single/mixed outcomes and overwrite behavior; validation green.
2026-02-14T12:15:00Z | Iteration 2 | WM-006 | Updated bash loop to new Weather Model lifecycle (create-report, extract/finalize, rebuild forecast, refresh context), removed direct tier file updates, added synthesize-climate on exit; validation pending.
2026-02-14T13:20:00Z | Iteration 3 | WM-007 | Simplified agent prompt contract (read-only tier files, current.json schema, explicit prohibitions) and marked item complete; validation pending.
